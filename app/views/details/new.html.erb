<script async src="https://www.googletagmanager.com/gtag/js?id=G-LKBSFQGWRN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LKBSFQGWRN');
</script>
<header>
<div class='fixed-top'>
  <div class="header bottom-shadow">
    <table class="table">
      <tr>
        <td class="p-0"><h2 class="pt-15 text-left pl-50">家計簿入力</h2></td>
      </tr>
    </table>
  </div>
  <input type="checkbox" class="openSidebarMenu" id="openSidebarMenu">
  <label for="openSidebarMenu" class="sidebarIconToggle">
    <div class="spinner diagonal part-1"></div>
    <div class="spinner horizontal"></div>
    <div class="spinner diagonal part-2"></div>
  </label>
  <div id="sidebarMenu">
    <ul class="sidebarMenuInner">
      <%= link_to profile_path do %><li class="text-left"><i class="fas fa-home fa-lg"></i>　ホーム</li><% end %>
      <%= link_to months_path do %><li class="text-left"><i class="fas fa-chart-bar fa-lg"></i>　家計簿一覧</li><% end %>
      <% if @authenticated_this_month.present? %>
        <%= link_to month_details_path(@authenticated_this_month.id) do %><li class="text-left"><i class="fas fa-receipt fa-lg"></i>　明細</li><% end %>
        <%= link_to reimbursement_month_details_path(@authenticated_this_month.id) do %><li class="text-left"><i class="fas fa-cash-register fa-lg"></i>　精算</li><% end %>
        <%= link_to month_budgets_path(@authenticated_this_month.id) do %><li class="text-left"><i class="fas fa-chart-pie fa-lg"></i>　分析</li><% end %>
        <%= link_to month_deposits_path(@authenticated_this_month.id) do %><li class="text-left"><i class="fas fa-piggy-bank fa-lg"></i>　入金</li><% end %>
      <% end %>
      <% if current_user.name == "ゲストユーザー" %>
        <%= link_to profile_path do %><li class="text-left"><i class="fas fa-user fa-lg"></i><%= "　#{current_user.name}"  %></li><% end %>
      <% else %>
        <%= link_to edit_profile_path do %><li class="text-left"><i class="fas fa-user fa-lg"></i><%= "　#{current_user.name}" %></li><% end %>
      <% end %>
      <%= link_to terms_of_service_path do %><li class="text-left"><i class="fas fa-file-alt fa-lg"></i>　利用規約</li><% end %>
      <%= link_to privacy_policy_path do %><li class="text-left"><i class="fas fa-file-alt fa-lg"></i>　プライバシーポリシー</li><% end %>
      <%= link_to logout_path, method: :delete, data:{confirm:"ログアウトしますか？"} do %><li class="text-left"><i class="fas fa-sign-out-alt fa-lg"></i>　ログアウト</li><% end %>
    </ul>
  </div>
</div>
</header>
<body class="bgc-white">
<div class="container mt-70">
  <div class="row">
    <div class="col-md-10 offset-md-1 col-lg-8 offset-lg-2">
      <% if current_user.name == "ゲストユーザー" %>
        <div class="invite-resister">
          <p class="mb-5">閲覧中のデータはサンプルです</p>
          <%= link_to "ユーザー登録へ", invite_resiter_path, method: :delete %>
        </div>
      <% end %>
      <div class="row mb-10 border-bottom">
      <div class="col pb-5" onclick="clickBtn2()" id="income">
        <span class="fs-13">収入</span>
      </div>
      <div class="col pb-5" onclick="clickBtn1()" id="spending">
        <span class="fs-13">支出</span>
      </div>
      </div>
      <%= form_with model: @add, url: month_details_path, local: true do |f| %>
          <div class="form-group" id="income_form">
            <div class="w-200 text-left">
            <%= f.number_field :income, class: 'form-control form-control-lg text-right fs-20-imp bottom-only', placeholder: "0 円"  %>
            </div>
          </div>
          <div class="form-group" id="spending_form">
            <div class="w-200 text-left">
            <%= f.number_field :spending, class: 'form-control form-control-lg text-right fs-20-imp bottom-only', placeholder: "0 円", id:"spending_field"  %>
            </div>
          </div>
          <div class="form-group">
            <div class="w-200 text-left">
            <%= f.date_field :date, class: 'form-control form-control-lg fs-13-imp', value: Date.today %>
            </div>
          </div>
          <div class="form-group">
            <div class="w-200 text-left">
              <%= f.select :classification,[["家賃", :rent], ["食費", :food], ["生活費", :life], ["交際費", :enjoy], ["養育費", :child], ["入金", :money], ["ペット費", :other]],{ include_blank: "何の費用？"}, class: 'form-control form-control-lg select fs-11-imp' %>
            </div>
          </div>
          <div class="form-group">
            <div class="w-200 text-left">
            <%= f.text_field :note, class: 'form-control form-control-lg bottom-only fs-11-imp', placeholder: "詳細メモ" %>
            </div>
          </div>
          <div class="form-group">
            <div class="w-200 text-left">
            <%= f.select :replayer,[["共通口座", "共通"],["旦那さん口座", "旦那"], ["奥さん口座", "嫁"]],{ include_blank: "どの口座で支払った？"}, class: 'form-control form-control-lg select fs-11-imp' %>
            </div>
          </div><br>
          <%= f.submit '追加する', class: 'btn btn-warning btn-lg' %><br><br>
          <%= link_to 'キャンセル', month_details_path, class: 'btn btn-outline-warning btn-lg' %>
      <% end %>
    </div>
  </div>
</div>

<script>
//初期表示は非表示
document.getElementById("income_form").style.display ="none";
document.getElementById("spending_form").style.display ="block";
document.getElementById("spending").classList.add("orange");
document.getElementById("income").classList.add("gray");
document.getElementById("spending").classList.add("border-bottom");
document.getElementById("spending").classList.add("border-warning");

document.getElementById("spending_field").focus();

function clickBtn1(){
	document.getElementById("spending_form").style.display ="block";
	document.getElementById("income_form").style.display ="none";
  document.getElementById("spending").style.color = '#1F5DA4';
  document.getElementById("income").style.color = '#8d8d8d';
  document.getElementById("spending").classList.add("border-bottom");
  document.getElementById("spending").classList.add("border-warning");
  document.getElementById("income").classList.remove("border-bottom");
  document.getElementById("income").classList.remove("border-warning");
}
function clickBtn2(){
	document.getElementById("income_form").style.display ="block";
  document.getElementById("spending_form").style.display ="none";
  document.getElementById("spending").style.color = '#8d8d8d';
  document.getElementById("income").style.color = '#1F5DA4';
  document.getElementById("spending").classList.remove("border-bottom");
  document.getElementById("spending").classList.remove("border-warning");
  document.getElementById("income").classList.add("border-bottom");
  document.getElementById("income").classList.add("border-warning");
}
</script>
</body>