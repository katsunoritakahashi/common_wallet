<script async src="https://www.googletagmanager.com/gtag/js?id=G-LKBSFQGWRN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LKBSFQGWRN');
</script>
<header>
<div class='fixed-top bottom-shadow'>
  <div class="header">
    <table class="table">
      <tr>
        <td class="p-0"><h2 class="white pt-15 text-left pl-50">ユーザー情報</h2></td>
      </tr>
    </table>
  </div>
  <input type="checkbox" class="openSidebarMenu" id="openSidebarMenu">
  <label for="openSidebarMenu" class="sidebarIconToggle">
    <div class="spinner diagonal part-1"></div>
    <div class="spinner horizontal"></div>
    <div class="spinner diagonal part-2"></div>
  </label>
  <div id="sidebarMenu">
    <ul class="sidebarMenuInner">
      <li class="text-left"><i class="fas fa-home fa-lg"></i><%= link_to ' ホーム', profile_path %></li>
      <li class="text-left"><i class="fas fa-donate fa-lg"></i><%= link_to ' 家計簿一覧', months_path %></li>
      <% if @authenticated_this_month.present? %>
        <li class="text-left"><i class="fas fa-list fa-lg"></i><%= link_to ' 明細', month_details_path(@authenticated_this_month.id) %></li>
        <li class="text-left"><i class="fas fa-exchange-alt fa-lg"></i><%= link_to ' 精算', reimbursement_month_details_path(@authenticated_this_month.id) %></li>
        <li class="text-left"><i class="fas fa-chart-pie fa-lg"></i><%= link_to ' 分析', month_budgets_path(@authenticated_this_month.id) %></li>
        <li class="text-left"><i class="fas fa-donate fa-lg"></i><%= link_to ' 入金', month_deposits_path(@authenticated_this_month.id) %></li>
      <% end %>
      <% if current_user.name == "ゲストユーザー" %>
        <li class="text-left"><i class="fas fa-user fa-lg"></i><%= link_to " #{current_user.name}", profile_path %></li>
      <% else %>
        <li class="text-left"><%= link_to "#{current_user.name}", edit_profile_path %></li>
      <% end %>
      <li class="text-left"><i class="fas fa-file-alt fa-lg"></i><%= link_to " 利用規約", terms_of_service_path %></li>
      <li class="text-left"><i class="fas fa-file-alt fa-lg"></i><%= link_to " プライバシーポリシー", privacy_policy_path %></li>
      <li class="text-left"><i class="fas fa-sign-out-alt fa-lg"></i><%= link_to ' ログアウト', logout_path, method: :delete %></li>
    </ul>
  </div>
</div>
</header>
<!DOCTYPE html>
<html lang="ja">
  <body class="bgc-white">
    <div class="container">
      <br/>
      <!-- ユーザー情報変更画面 -->
      <div class="row">
        <aside class="col-sm-0 col-md-2 col-lg-2 col-xl-2"></aside>
        <aside class="col-sm-12 col-md-8 col-lg-8 col-xl-8">
            <article class="card-body">
              <hr>
                <%= form_with model: @profile_edit, url: profile_path, local: true do |f| %>
                  <div class="form-group">
                    <h5 class="text-left"><%= f.label :ユーザー名 %></h5>
                    <%= f.text_field :name, class: 'form-control ml-20',value: "#{current_user.name}" %>
                  </div>
                  <div class="form-group">
                    <h5 class="text-left"><%= f.label :メールアドレス %></h5>
                    <%= f.email_field :email, class: 'form-control ml-20',value: "#{current_user.email}" %>
                  </div>
                  <div class="form-group">
                    <h5 class="text-left"><%= f.label :パスワード %></h5>
                    <%= f.password_field :password, class: 'form-control ml-20' %>
                  </div>
                  <div class="form-group">
                    <h5 class="text-left"><%= f.label :パスワード確認 %></h5>
                    <%= f.password_field :password_confirmation, class: 'form-control ml-20' %>
                  </div>
                  <div class="actions">
                    <%= f.submit '変更する', class: 'btn btn-warning btn-lg mt-20' %><br><br>
                  </div>
                  <%= link_to "キャンセル",profile_path, class: "btn btn-outline-warning btn-lg" %><br><br>
                  <%= link_to 'ユーザーを削除する', profile_path, class: 'btn btn-outline-danger btn-lg', method: :delete, data:{confirm:"本当に削除していいですか？"} %>
                <% end %>
            </article>
        </aside>
        <aside class="col-sm-0 col-md-2 col-lg-2 col-xl-2"></aside>
      </div>
    </div>
  </body>
</html>