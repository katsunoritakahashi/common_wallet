<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LKBSFQGWRN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LKBSFQGWRN');
</script>
<div class="container">
  <div class="row">
    <div class="col">
      <div class="switch">
        <div class="row justify-content-center">
          <div class="col">
            <%= link_to "明細", month_details_path,class: 'btn btn-info btn-lg btn-block' %>
          </div>
          <div class="col">
            <%= link_to "分析", month_budgets_path,class: 'btn btn-warning btn-lg btn-block' %>
          </div>
          <div class="col">
            <%= link_to "精算", new_month_detail_path,class: 'btn btn-success btn-lg btn-block' %>
          </div>
          <div class="col">
            <%= link_to "入金", month_deposits_path,class: 'btn btn-danger btn-lg btn-block' %>
          </div>
        </div>
      </div>
      <h2 class="border-bottom"><%= @month.month.strftime("入金〜%Y年%-m月〜") %></h2>
      <% if @deposit %>
        <%= link_to "再設定", deposit_path(@deposit), method: :delete, data:{confirm:"基本条件を再設定しますか？"}, class: 'btn btn-light' %>
        <table class="text-center table table-hover table-striped">
          <tr class="table-danger">
            <th></th>
            <th><i class="fas fa-male fa-lg light-blue"></i></th>
            <th><i class="fas fa-female fa-lg red"></i></th>
          </tr>
          <tr class="table-light">
            <td>給料</td>
            <td><%= "#{@deposit.man_salary.to_s(:delimited)}円" %></td>
            <td><%= "#{@deposit.woman_salary.to_s(:delimited)}円" %></td>
          </tr>
          <tr class="table-light">
            <td>補正額</td>
            <td><%= "#{@correct_total_man.to_s(:delimited)}円" %></td>
            <td><%= "#{@correct_total_woman.to_s(:delimited)}円" %></td>
          </tr>
          <tr class="table-light">
            <td>合計入金額</td>
            <td><%= "#{@deposit.total_deposit.to_s(:delimited)}円" %></td>
            <td></td>
          </tr>
        </table>
        <table class="text-center table table-hover table-striped">
          <tr class="table-danger">
            <th></th>
            <th><i class="fas fa-male fa-lg light-blue"></i></th>
            <th><i class="fas fa-female fa-lg red"></i></th>
            <th>合計</th>
          </tr>
          <tr class="table-light">
            <td>入金額</td>
            <td><%= "#{@man_deposit.to_s(:delimited)}円" %></td>
            <td><%= "#{@woman_deposit.to_s(:delimited)}円" %></td>
            <td><%= "#{(@man_deposit + @woman_deposit).to_s(:delimited)}円" %></td>
          </tr>
          <tr class="table-light">
            <td>手元に残る額</td>
            <td><%= "#{@disposable_income_man.to_s(:delimited)}円" %></td>
            <td><%= "#{@disposable_income_woman.to_s(:delimited)}円" %></td>
            <td><%= "#{(@disposable_income_man + @disposable_income_woman).to_s(:delimited)}円" %></td>
          </tr>
        </table>
        <%= link_to '補正する', deposit_corrects_path(@deposit), class: 'btn btn-danger' %>
      <% else %>
        <ul class="list-inline">
          ※条件を設定して下さい
          <%= form_with model: @add, local: true do |f| %>
              <div class="form-inline">
                <%= f.number_field :total_deposit, class: 'form-control', placeholder: '合計入金額' %>
                <%= f.number_field :man_salary, class: 'form-control', placeholder: '旦那給料' %>
                <%= f.number_field :woman_salary, class: 'form-control', placeholder: '嫁給料' %>
                <%= f.submit '設定', class: 'btn btn-danger' %>
              </div>
          <% end %>
        </ul>
    <% end %>
    </div>
  </div>
</div>