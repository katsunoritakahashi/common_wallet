<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LKBSFQGWRN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LKBSFQGWRN');
</script>
<div class="container">
  <div class="row">
    <div class="col">
      <h2 class="border-bottom"><span class="badge badge-danger">
        <i class="fas fa-donate white"></i> 入金</span><br class="visible-xs-block"><%= @month.month.strftime(" %Y年%-m月 ") %></h2>
      <% if @deposit %>
        <%= link_to "再設定", deposit_path(@deposit), method: :delete, data:{confirm:"基本条件を再設定しますか？"}, class: 'btn btn-success' %>
        <table class="text-center table table-hover table-striped red lg">
          <tr>
            <th></th>
            <th><i class="fas fa-male fa-lg light-blue"></i></th>
            <th><i class="fas fa-female fa-lg red"></i></th>
          </tr>
          <tr class="table-light">
          <tr class="table-light">
            <td>入金総額</td>
          <td colspan="2"><%= "#{@deposit.total_deposit.to_s(:delimited)}円" %></td>
          </tr>
            <td>お給料</td>
            <td><%= "#{@deposit.man_salary.to_s(:delimited)}円" %></td>
            <td><%= "#{@deposit.woman_salary.to_s(:delimited)}円" %></td>
          </tr>
          <tr class="table-light">
            <td>調整</td>
            <td><%= "#{@correct_total_man.to_s(:delimited)}円" %></td>
            <td><%= "#{@correct_total_woman.to_s(:delimited)}円" %></td>
          </tr>
        </table>
        <table class="text-center table table-hover table-striped red lg">
          <tr>
            <th></th>
            <th><i class="fas fa-male fa-lg light-blue"></i></th>
            <th><i class="fas fa-female fa-lg red"></i></th>
            <th>合計</th>
          </tr>
          <tr class="table-light">
            <td>入金額</td>
            <td><%= "#{@man_deposit.to_s(:delimited)}円" %></td>
            <td><%= "#{@woman_deposit.to_s(:delimited)}円" %></td>
            <td><%= "#{(@man_deposit + @woman_deposit).to_s(:delimited)}円" %></td>
          </tr>
          <tr class="table-light">
            <td>手元に残る額</td>
            <td><%= "#{@disposable_income_man.to_s(:delimited)}円" %></td>
            <td><%= "#{@disposable_income_woman.to_s(:delimited)}円" %></td>
            <td><%= "#{(@disposable_income_man + @disposable_income_woman).to_s(:delimited)}円" %></td>
          </tr>
        </table>
        <%= link_to '補正する', deposit_corrects_path(@deposit), class: 'btn btn-danger' %>
      <% else %>
        <ul class="list-inline">
          ※条件を設定して下さい
          <%= form_with model: @add, local: true do |f| %>
              <div class="form-inline">
                <%= f.number_field :total_deposit, class: 'form-control', placeholder: '合計入金額' %>
                <%= f.number_field :man_salary, class: 'form-control', placeholder: '旦那給料' %>
                <%= f.number_field :woman_salary, class: 'form-control', placeholder: '嫁給料' %>
                <%= f.submit '設定', class: 'btn btn-danger' %>
              </div>
          <% end %>
        </ul>
    <% end %>
    </div>
  </div>
</div>